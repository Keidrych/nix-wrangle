
# Splice the `nix-wrangle` source into nix/default.nix
$ nix-wrangle splice nix/default.nix --name nix-wrangle --output nix/public.nix
Reading sources: nix/wrangle.json
Writing: nix/public.nix

$ cat nix/public.nix
{ stdenv, piep }:
stdenv.mkDerivation {
  name="sample.txt";
  src = fetchFromGitHub {
    rev = "9664079e09a29139edc29cb2851328f0e22120ac";
    sha256 = "1kbj7pfhsjdvzdmjjhj7a82licjpvba6a7phj7bb40gvndgl7als";
    repo = "nix-wrangle";
    owner = "timbertson";
  };
  buildCommand = ''
    cat > "$out" <<EOF
      Sample derivation, built from:
       - self: $src
       - piep: ${piep}
    EOF
  '';
}
